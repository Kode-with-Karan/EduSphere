<!-- Scripts -->
{% load static %}

<script>
    let products = document.getElementsByClassName('product');
    console.log(products)

 // Create the main div with class 'canva_showing' and id 'canva'
 var canvaDiv = document.createElement("div");
        canvaDiv.classList.add("canva_showing");
        canvaDiv.id = "canva";
        canvaDiv.style.display = "none";

        // Create the 'canva_body' div
        var canvaBodyDiv = document.createElement("div");
        canvaBodyDiv.classList.add("canva_body");

        // Create the 'close' div
        var closeDiv = document.createElement("div");
        closeDiv.classList.add("close");
        closeDiv.id = "close_canva";

        // Create the close icon (Font Awesome icon)
        var closeIcon = document.createElement("i");
        closeIcon.classList.add("fa", "fa-times");

        // Append the icon to the close div
        closeDiv.appendChild(closeIcon);

        // Create the 'canva_frame' div
        var canvaFrameDiv = document.createElement("div");
        canvaFrameDiv.classList.add("canva_frame");

        // Create the iframe element
        var iframe = document.createElement("iframe");
        iframe.id = "canva_frame";
        iframe.src = "#"; // You can replace this with the actual source URL
        iframe.frameBorder = "0";
        iframe.width = "100%";
        iframe.height = "100%";

        // Append the iframe to the canva_frame div
        canvaFrameDiv.appendChild(iframe);

        // Append the close and canva_frame divs to the canva_body div
        canvaBodyDiv.appendChild(closeDiv);
        canvaBodyDiv.appendChild(canvaFrameDiv);

        // Append the canva_body div to the main canvaDiv
        canvaDiv.appendChild(canvaBodyDiv);

        // Finally, append the entire structure to the body
        document.body.appendChild(canvaDiv);

    let canva = document.getElementById("canva");
    closeDiv.addEventListener("click", function () {
        canva.style.display = "none";
        try {
            iframe.src = "#";
        } catch (error) {
            
        }
    });

    Array.prototype.forEach.call(products, function (product) {
        product.addEventListener('click', function () {
            // let img_url = (seat.getElementsByTagName("div")[0].getElementsByTagName("img")[0]);
            // canva.style.display = "flex";
            // canva_frame.src = img_url.getAttribute("src");
            // product
            let iframe = product.getElementsByClassName("product-grid")[0].getElementsByTagName("iframe")[0];
            let canvaFrame = document.getElementById("canva_frame");
            canvaFrame.src = iframe.src;
            
            canva.style.display = "flex";
            console.log(iframe)
        })
    });

</script>

<script src="{% static 'main/js/main_js.js' %}"></script>

<script src="{% static 'main/vendor/jquery/jquery.min.js' %}"></script>
<script src="{% static 'main/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'main/js/owl-carousel.js' %}"></script>
<script src="{% static 'main/js/animation.js' %}"></script>
<script src="{% static 'main/js/imagesloaded.js' %}"></script>
<script src="{% static 'main/js/popup.js' %}"></script>
<script src="{% static 'main/js/custom.js' %}"></script>
<script src="{% static 'main/js/profile.js' %}"></script>
<!-- profile -->
<!-- <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script> -->
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>

<!-- login -->

<!-- JS -->
<script src="{% static 'main/js/jquery/jquery.min.js' %}"></script>
<script src="{% static 'main/js/login-up.js' %}"></script>
<script src="{% static 'main/js/nav_login.js' %}"></script>
<script src="{% static 'main/js/modernizr-2.6.2.min.js' %}"></script>
<!-- jQuery -->
<script src="{% static 'main/js/jquery.min.js' %}"></script>
<!-- jQuery Easing -->
<script src="{% static 'main/js/jquery.easing.1.3.js' %}"></script>
<!-- Bootstrap -->
<script src="{% static 'main/js/bootstrap.min.js' %}"></script>
<!-- Waypoints -->
<script src="{% static 'main/js/jquery.waypoints.min.js' %}"></script>
<!-- Carousel -->
<script src="{% static 'main/js/owl.carousel.min.js' %}"></script>
<!-- countTo -->
<script src="{% static 'main/js/jquery.countTo.js' %}"></script>
<!-- Flexslider -->
<script src="{% static 'main/js/jquery.flexslider-min.js' %}"></script>
<!-- Main -->
<script src="{% static 'main/js/cro-main.js' %}"></script>
